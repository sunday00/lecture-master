[{"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/Canvas.tsx":"1","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Rectangle/Rectangle.tsx":"2","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/EditProperties.tsx":"3","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Handle.tsx":"4","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Drag.tsx":"5","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Resize.tsx":"6","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Rectangle/RectangleInner.tsx":"7","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/index.tsx":"8","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/util.tsx":"9","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/Toolbar.tsx":"10","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/examples/Async.tsx":"11"},{"size":795,"mtime":1670949559993,"results":"12","hashOfConfig":"13"},{"size":1741,"mtime":1671114177660,"results":"14","hashOfConfig":"13"},{"size":4402,"mtime":1671124241470,"results":"15","hashOfConfig":"13"},{"size":1283,"mtime":1671037022172,"results":"16","hashOfConfig":"13"},{"size":676,"mtime":1671115018226,"results":"17","hashOfConfig":"13"},{"size":1401,"mtime":1671037521614,"results":"18","hashOfConfig":"13"},{"size":636,"mtime":1671115102488,"results":"19","hashOfConfig":"13"},{"size":944,"mtime":1671460759702,"results":"20","hashOfConfig":"13"},{"size":100,"mtime":1670854591369,"results":"21","hashOfConfig":"13"},{"size":779,"mtime":1670948461350,"results":"22","hashOfConfig":"13"},{"size":1771,"mtime":1671463760221,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"15k3k6m",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"28"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/Canvas.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Rectangle/Rectangle.tsx",[],["48","49"],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/EditProperties.tsx",["50","51"],"import {InputGroup, InputRightElement, NumberInput, NumberInputField, Text, VStack} from '@chakra-ui/react'\nimport { selector, selectorFamily, useRecoilState, useRecoilValue } from 'recoil';\nimport { selectedElementState } from './Canvas';\nimport { elementState, Element } from './components/Rectangle/Rectangle';\nimport React from 'react';\nimport _ from 'lodash'\nimport produce from 'immer';\n\n// export const selectedElementProperties = selector<Element|undefined>({\n//   key: 'selectedElementProperties',\n//   get: ({get}) => {\n//     const selectedElementId = get(selectedElementState)\n//     if (typeof selectedElementId !== 'number') return\n//\n//     return get(elementState(selectedElementId))\n//   },\n//   set: ({get, set}, newElement) => {\n//     const selectedElementId = get(selectedElementState)\n//     if (typeof selectedElementId !== 'number' || !newElement) return\n//\n//     set(elementState(selectedElementId), newElement)\n//   }\n// })\n\nconst editPropertyState = selectorFamily<number, { path: string, id: number }>({\n  key: 'editProperty',\n  get: ({ path, id }) => ({get}) => {\n    const element = get(elementState(id))\n\n    return _.get(element, path)\n  },\n  set: ({ path, id }) => ({get, set}, newValue) => {\n    const element = get(elementState(id))\n    const newElement = produce(element, (draft) => {\n      _.set(draft, path, newValue)\n    })\n\n    set(elementState(id), newElement)\n  }\n})\n\nexport const EditProperties = () => {\n  // const [element, setElement] = useRecoilState(selectedElementProperties)\n  //\n  // if (!element) return null\n\n  // const updatePosition = (prop: 'top' | 'left', amount: number) => {\n  //   setElement({\n  //     ...element,\n  //     style: {\n  //       ...element.style,\n  //       position: {\n  //         ...element.style.position,\n  //         [prop]: amount,\n  //       }\n  //     }\n  //   })\n  // }\n  //\n  // const updateSize = (prop: 'width' | 'height', amount: number) => {\n  //   setElement({\n  //     ...element,\n  //     style: {\n  //       ...element.style,\n  //       size: {\n  //         ...element.style.size,\n  //         [prop]: amount,\n  //       }\n  //     }\n  //   })\n  // }\n  const selectedElement = useRecoilValue(selectedElementState)\n  if(typeof selectedElement !== 'number') return null\n\n  return (\n    <Card>\n      <Section heading=\"Position\">\n        <Property label=\"Top\"\n          // value={element.style.position.top}\n          // value={top}\n          path={'style.position.top'}\n          id={selectedElement}\n          // onChange={(top) => { updatePosition('top', top) }}\n        />\n        {/*<Property label=\"Left\" value={element.style.position.left} onChange={(left) => { updatePosition('left', left) }} />*/}\n        <Property label=\"Left\" path={'style.position.left'} id={selectedElement}/>\n      </Section>\n      <Section heading=\"Size\">\n      {/*  <Property label=\"Width\" value={element.style.size.width} onChange={(width) => { updateSize('width', width) }} />*/}\n      {/*  <Property label=\"Height\" value={element.style.size.height} onChange={(height) => { updateSize('height', height) }} />*/}\n        <Property label=\"Width\" path={'style.size.width'} id={selectedElement}/>\n        <Property label=\"Height\" path={'style.size.height'} id={selectedElement}/>\n      </Section>\n    </Card>\n  )\n}\n\nconst Section: React.FC<{heading: string}> = ({heading, children}) => {\n  return (\n    <VStack spacing={2} align=\"flex-start\">\n      <Text fontWeight=\"500\">{heading}</Text>\n      {children}\n    </VStack>\n  )\n}\n\nconst Property = ({label, path, id}: {label: string; path: string, id: number}) => {\n  const [value, setValue] = useRecoilState(editPropertyState({ path, id }))\n\n  return (\n    <div>\n      <Text fontSize=\"14px\" fontWeight=\"500\" mb=\"2px\">\n        {label}\n      </Text>\n      <InputGroup size=\"sm\" variant=\"filled\">\n        <NumberInput value={value} onChange={(_, value) => setValue(value)}>\n          <NumberInputField borderRadius=\"md\" />\n          <InputRightElement pointerEvents=\"none\" children=\"px\" lineHeight=\"1\" fontSize=\"12px\" />\n        </NumberInput>\n      </InputGroup>\n    </div>\n  )\n}\n\nconst Card: React.FC = ({children}) => (\n  <VStack\n    position=\"absolute\"\n    top=\"20px\"\n    right=\"20px\"\n    backgroundColor=\"white\"\n    padding={2}\n    boxShadow=\"md\"\n    borderRadius=\"md\"\n    spacing={3}\n    align=\"flex-start\"\n    onClick={(e) => e.stopPropagation()}\n  >\n    {children}\n  </VStack>\n)","/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Handle.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Drag.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Resize.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/components/Rectangle/RectangleInner.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/index.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/util.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/Toolbar.tsx",[],"/Users/sunday00/workspace/frontends/react-tutorial/lecture-master/p23-recoil-official-recommend/src/examples/Async.tsx",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":2,"column":10,"nodeType":"58","messageId":"59","endLine":2,"endColumn":18},{"ruleId":"56","severity":1,"message":"60","line":4,"column":24,"nodeType":"58","messageId":"59","endLine":4,"endColumn":31},"no-native-reassign",["61"],"no-negated-in-lhs",["62"],"@typescript-eslint/no-unused-vars","'selector' is defined but never used.","Identifier","unusedVar","'Element' is defined but never used.","no-global-assign","no-unsafe-negation"]