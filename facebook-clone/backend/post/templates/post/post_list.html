{% extends 'layout.html' %}
{% load static %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
{% endblock head %}

{% block contents %}
  <section id="wrapper">
    <div class="inner">
      {% if user_profile %}
        <aside class="left_box">
          <div class="my_name">
            <a href="#">
              <div class="profile_img">
                <img src="{{ user_profile.picture.url }}" alt="profile">
              </div>
              <span class="name">{{ user_profile.nick }}</span>
              <span class="icon icon--more"></span>
            </a>
          </div>
          <ul class="list">
            <li class="active">
              <a href="{% url 'post:post_list' %}">
                <span class="icon icon--news"></span>
                <span>NewsFeed</span>
                <span class="icon icon--more"></span>
              </a>
            </li>
            <li>
              <a href="#">
                <span class="icon icon--messenger"></span>
                <span>Messenger</span>
                <span class="icon icon--more"></span>
              </a>
            </li>
            <li>
              <a href="#">
                <span class="icon icon--save"></span>
                <span>Save</span>
                <span class="icon icon--more"></span>
              </a>
            </li>
          </ul>
        </aside>
      {% endif %}

      <section class="middle_box" id="contents_container">
        <input type="hidden" name="page" id="page" value="1"/>
        {% if user_profile %}
          <article class="create_box">
            <h2 class="title">Create some articles</h2>
            <div class="text_field">
              <form action="" method="POST">
                <input type="hidden" id="csrfmiddlewaretoken" name="csrfmiddlewaretoken" value="{{csrf_token}}">
                <header class="top">
                  <div class="profile_img">
                    <img src="{{ user_profile.picture.url }}" alt="profile">
                  </div>
                  <p>
                    <textarea name="content" id="text_field" cols="50" rows="5" data-name="add" placeholder="What do you think?"></textarea>
                  </p>
                </header>
                <div class="middle">
                  <canvas id="imageCanvas" width="0" height="0"></canvas>
                </div>
                <div class="bottom">
                  <input type="file" name="photo" id="id_photo" required="required" accept="image/*"/>
                  <div class="import-btn">
                    <label for="id_photo" id="photo_label">
                      <i class="icon icon--picture"></i>
                      <span>picture/movie</span>
                    </label>
                  </div>
                </div>
                <footer class="submit">
                  <input type="submit" value="POST" id="submitBtn" disabled="disabled"/>
                </footer>
              </form>
            </div>
          </article>
        {% endif %}

        <article class="contents_wrapper contents">
          <header>
            {% if user_profile %}
              <div class="profile_container">
                <div class="profile_img"><img src="{% static 'imgs/profile/rabbit.png' %}" alt="profile"></div>
                <div>
                  <div class="name">
                    <a href="#">sunday00</a>
                  </div>
                  <div class="time">1 hour ago</div>
                </div>
                <div class="more" data-name="more">
                  <i class="icon icon--more"></i>
                  <ul class="hidden-menu">
                    <li>
                      <button>add friend</button>
                    </li>
                    <li>
                      <span>save</span></li>
                    <li>
                      <a href="/edit.html">edit</a>
                    </li>
                    <li>
                      <form action="">
                        <input type="button" value="delete"/>
                      </form>
                    </li>
                  </ul>
                </div>
              </div>
            {% endif %}
          </header>

          <figure class="main_article">
            <p>How adorable kitty and puppy~ they are~.</p>
          </figure>

          <div class="img_section">
            <a href="#">
              <img src="{% static 'imgs/thumb/thumb03.jpg' %}" alt="cats and dogs"/>
            </a>
          </div>

          <div class="ajax-section">
            <div class="like">
              <span>LIKE</span>
              <span class="like-count" id="like-count-37">1</span>
            </div>
            <div class="comment">
              <span>comment</span>
              <span class="comment-count">1</span>
            </div>
          </div>

          <div class="btn-section">
            <div class="like-btn" data-name="like">
              <i class="icon icon--like-line"></i>
              <span>LIKE</span>
            </div>
            <div class="comment-btn" data-name="comment">
              <i class="icon icon--comment-line"></i>
              <span>COMMENT</span>
            </div>
          </div>

          <div class="comment_section">
            <div class="id">
              <div class="profile_img">
                <img src="{% static 'imgs/profile/bong.jpg' %}" alt="tiger profile"/>
              </div>
              <div class="comment-field">
                <div class="text-container">
                  <span class="name">
                    <a href="#">John</a>
                  </span>
                  <p class="text-field">Wow~ pretty pretty~.</p>
                </div>
              </div>
            </div>
          </div>

          <div class="comment_input">
            <div class="profile_img">
              <img src="{% static 'imgs/profile/tiger.png' %}" alt="tiger">
            </div>
            <div class="input-container">
              <label for="comment37"></label>
              <input type="text" id="comment37" placeholder="leave your comment..."/>
              <button class="send" data-name="send">
                <span class="icon--send"></span>
              </button>
            </div>
          </div>
        </article>
      </section>

      {% if user_profile %}
        <section class="right_box">
          <header class="title">Profile</header>
          <div class="profile-content right_profile">
            <div class="profile_img">
              <img src="{{ user_profile.picture.url }}" alt="profile"/>
            </div>
            <div class="detail">
              <p class="name">sunday00</p>
              <p class="message">
                <i class="icon icon--write-gray"></i>
                <span>Message</span>
              </p>
            </div>
          </div>
        </section>
      {% endif %}
    </div>
  </section>

  {% if user_profile %}
    <aside id="side_box">
      <ul>
        <li>
          <div class="profile_img">
            <img src="{% static 'imgs/profile/noun_User.png' %}" alt="profile">
          </div>
          <span class="name">monday</span>
          <span class="light"></span>
        </li>
      </ul>
    </aside>
  {% endif %}
{% endblock contents %}

{% block js %}
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="{% static 'js/main.js' %}"></script>
  <script src="{% static 'js/new_post.js' %}"></script>
{% endblock js %}
